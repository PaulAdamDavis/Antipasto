{"version":3,"sources":["main.js"],"names":["ALGOLIA_SEARCH","appId","initInstantSearch","searchClient","algoliasearch","apiKey","indexName","search","document","querySelector","style","display","helper","query","container","addWidgets","opts","currentTarget","_ref","setQuery","value","render","_ref2","state","$","show","length","hide","instantsearch","widgets","configure","attributesToSnippet","hits","cssClasses","root","list","emptyRoot","item","templates","empy","hit","concat","tags","map","tag","slug","url","snippet","attribute","start","ready","click","e","addClass","val","focus","removeClass","on","keyCode","hasClass"],"mappings":"aACA,IAAMA,eAAiB,CADvBC,MAAA,aACMD,OAAAA,mCACFC,UAAO,kBADXC,kBAAA,WAOI,IAAMC,EAAeC,cAAcJ,eAAeC,MAAOD,eAAeK,QADtEH,EAAAA,cAAAA,CACIC,UAAYH,eAAgBM,UAC5BC,aAAAA,EACFD,eAHFJ,SAGaF,GADcQ,SAAAC,cAAA,SAAAC,MAAAC,QAGF,KAHEC,EAGVA,MAHUC,MAGF,OAAA,GAEnBC,EAAUJ,YAMlBH,EAAOQ,WACH,CAAA,CAEcH,KAFd,SAEoBI,GACD,IAAGR,EAASC,EAAAA,OACAD,SAASC,cAAA,iBAAGQ,iBAAAA,QAAoB,SAAAC,GAAA,IAAAD,EAAAC,EAAAD,cAC5CE,EAASF,SAAAA,EAAqBG,OACtBb,YAN3Bc,OAAA,SAAAC,GAAA,IAAAC,EAAAD,EAAAC,MAUQC,EAAA,SAAAC,SAGKF,EAAMV,OAASU,EAAMV,MAAMa,OAAS,IAA9Bb,EAAP,SAAqBc,SAKjCC,cAAcC,QAAQC,UAAU,CAC5BC,oBAAsB,CAAA,aAGtBjB,cADuBe,QAAAG,KAAA,CAEvBC,UAAY,QACFA,WAAA,CACAC,KAAA,gBACGC,KAAE,oBACLC,UAAA,qCANaC,KAAA,kBASbC,UAAA,CADCC,KAAA,mBAGHF,KAFE,SAEFG,GACgF,MAAA,oEAAAC,OADhFD,EAAAE,MAAAF,EAAAE,KAAAC,IAAA,SAAAC,GAAA,OAAAA,EAAAC,OAE2CL,KAAIM,SADiC,qEAAAL,OAGTD,EAAAM,IAHS,oIAAAL,OAI/Db,cAAcmB,UAAQ,CAAAC,UAAA,QAAAR,IAAAA,IAJyC,8CAAAC,OAIzCb,cAAAmB,QAAA,CAAAC,UAAA,OAAAR,IAAAA,IAJyC,kIAgBlGhC,EAAFyC,SAIIzB,EAAAA,UAAE0B,MAAWC,WAET3B,oBAFJA,EAAA,WAAA2B,MAAA,SAAAC,GAME5B,EAAA,QAAA6B,SAAuB,kBACnB7B,EAAA,iBAAqB8B,IAAvB,IACE9B,EAAA,iBAAoB+B,UAItB/B,EAAA,iBAAI2B,MAAqB,WACnB3B,EAAA,iBAAiB8B,IAAnB,IACE9B,EAAA,QAAQgC,YAAY,oBAlBlChC,EAAAhB,UAAAiD,GAAA,QAAA,SAAAL,GAgByB,IAAbA,EAAEM,SAAiBlC,EAAE,QAAQmC,SAAS,oBACtCnC,EAAE,iBAAiB8B,IAAI,IACvB9B,EAAE,QAAQgC,YAAY","file":"main.js","sourcesContent":["// Algolia API credentials to setup InstantSearch.js\nconst ALGOLIA_SEARCH = {\n    appId: '1CRH65N6Z3',\n    apiKey: '2dc60f0b4499265c60919b71eaec42d2',\n    indexName: 'AntipastoTrial'\n}\n\nconst initInstantSearch = () => {\n    const searchClient = algoliasearch(ALGOLIA_SEARCH.appId, ALGOLIA_SEARCH.apiKey);\n    const search = instantsearch({\n        indexName: ALGOLIA_SEARCH.indexName,\n        searchClient,\n        searchFunction(helper) {\n            const container = document.querySelector('#hits');\n            container.style.display = helper.state.query === '' ? 'none' : '';\n\n            helper.search();\n        }\n    });\n\n    search.addWidgets([\n        {\n            init(opts) {\n                const helper = opts.helper;\n                const input = document.querySelector('#search-input');\n                input.addEventListener('input', ({ currentTarget }) => {\n                    helper.setQuery(currentTarget.value) // update the parameters\n                        .search(); // launch the query\n                });\n            },\n            render({ state }) {\n                // Handle rendering widgets based on query and results\n                $('#hits').show();\n\n                if (!state.query || state.query.length < 1) {\n                    $('#hits').hide();\n                }\n            }\n        },\n        instantsearch.widgets.configure({\n            attributesToSnippet: ['html:30'],\n        }),\n        instantsearch.widgets.hits({\n            container: '#hits',\n            cssClasses: {\n                root: 'gh-modal-body',\n                list: 'gh-search-results',\n                emptyRoot: 'gh-modal-body gh-no-search-results',\n                item: 'gh-search-item'\n            },\n            templates: {\n                empy: 'No results found',\n                item(hit) {\n                    return `\n                    <article class=\"gh-search-result-card post ${hit.tags && hit.tags.map(tag => tag.slug).join(' tag-')}\">\n                        <a class=\"gh-search-item-link\" href=\"${hit.url}\">\n                            <div class=\"gh-card-content\">\n                                <h3 class=\"gh-search-item-title\">${instantsearch.highlight({ attribute: 'title', hit: hit })}</h3>\n                                <p>${instantsearch.snippet({ attribute: 'html', hit })}</p>\n                            </div>\n                        </a>\n                    </article>\n                `},\n            },\n        })\n    ]);\n\n    search.start();\n}\n\n$(document).ready(function () {\n    // Bootup instantSearch\n    initInstantSearch();\n\n    $('#search').click((e) => {\n        $('body').addClass('gh-search-open');\n        $('#search-input').val('');\n        $('#search-input').focus();\n    });\n\n    $('#search-close').click(() => {\n        $('#search-input').val('');\n        $('body').removeClass('gh-search-open');\n    });\n\n    $(document).on('keyup', function (e) {\n        if (e.keyCode == 27 && $('body').hasClass('gh-search-open')) {\n            $('#search-input').val('');\n            $('body').removeClass('gh-search-open');\n        }\n    });\n});\n"]}