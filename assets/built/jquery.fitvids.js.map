{"version":3,"sources":["jquery.fitvids.js"],"names":["$","fn","fitVids","options","head","div","settings","customSelector","ignore","getElementById","document","getElementsByTagName","createElement","css","childNodes","extend","selectors","ignoreList","push","$allVideos","this","find","join","each","not","parents","height","aspectRatio","$this","length","tagName","toLowerCase","parent","isNaN","attr","parseInt","width","_count","videoName","removeAttr","window","jQuery","Zepto"],"mappings":"cAYC,SAAWA,GAAVA,EAAAC,GAAAC,QAAa,SAAAC,GAEb,IAUQC,EADJC,EATJC,EAAA,CAIIC,eAAgB,KAFpBC,OAAA,MAgBIR,OAbAQ,SAAQC,eAAA,oBAKJL,EAAOM,SAASN,MAAQM,SAASC,qBAAqB,QAAQ,IADlEN,EAAAK,SAAAE,cAAA,QACIR,UAAOM,oUACXN,EAAIS,YAAMR,EAAAS,WAAA,KAGVV,GACDJ,EAAAe,OAAAT,EAAAH,GAGGY,KAAQT,KAAAA,WACX,IAAAU,EAAA,CAIG,kCAFJ,6BACE,sCAIE,oDAKF,SACEA,SAGEC,EAAAA,gBAHFD,EAAUE,KAAKZ,EAASC,gBAOzB,IAAAU,EAAA,iBAEDX,EAAIa,SACJA,EAAaA,EAAe,KAAAb,EAA5BE,QADA,IAAIW,EAAanB,EAAEoB,MAAMC,KAAKL,EAAUM,KAAK,OAK3CH,GADFA,EAAWI,EAAKC,IAAU,kBACxBA,IAAAP,IACQM,KAACE,WACP,IAQEC,EAEAC,EAVFC,EAAQ5B,EAAAoB,MACT,EAAAQ,EAAAH,QAAAR,GAAAY,QACmI,UAAAT,KAAAU,QAAAC,eAAAH,EAAAI,OAAA,UAAAH,QAAAD,EAAAI,OAAA,8BAAAH,SAASD,EAAAf,IAAA,WAAAe,EAAAf,IAAA,WAAAoB,MAAAL,EAAAM,KAAA,aAAAD,MAAAL,EAAAM,KAAA,YAC7IN,EAAMA,KAAMf,SAAN,GAEJe,EAAMM,KAAK,QAAX,KAGER,GADH,WAAAN,KAAAU,QAAAC,eAAAH,EAAAM,KAAA,YAAAD,MAAAE,SAAAP,EAAAM,KAAA,UAAA,KAAAC,SAAAP,EAAAM,KAAA,UAAA,IAAAN,EAAAF,WAEYO,MAAME,SAASP,EAAMM,KAAK,SAAU,KAA2CN,EAAMQ,QAA1CD,SAASP,EAAMM,KAAK,SAAU,KAAlFE,EAAKF,KAAID,UACTN,EAAcD,SAASU,EAAAA,GAF3BlC,QAAAmC,OAKET,EAAMM,KAAK,OAAQI,GAFrBtC,EAAGC,GAAC2B,QAAAS,UAEFT,EAAAA,KAAMM,gGAANF,OAAA,8BAAAnB,IAAA,cAAA,IAAAc,EAAA,KACA3B,EAAAuC,WAAaF,UAAbE,WAAA,eAKLvC,EAAAC,GA9CDC,QAAAmC,OAAA,EAvBH,CA4EGG,OAAOC,QAAUD,OAAOE","file":"jquery.fitvids.js","sourcesContent":["/*jshint browser:true */\n/*!\n* FitVids 1.3\n*\n*\n* Copyright 2017, Chris Coyier + Dave Rupert + Ghost Foundation\n* This is an unofficial release, ported by John O'Nolan\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the MIT license\n*\n*/\n\n;(function( $ ){\n\n  'use strict';\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null,\n      ignore: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement(\"div\");\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        'iframe[src*=\"player.vimeo.com\"]',\n        'iframe[src*=\"youtube.com\"]',\n        'iframe[src*=\"youtube-nocookie.com\"]',\n        'iframe[src*=\"kickstarter.com\"][src*=\"video.html\"]',\n        'object',\n        'embed'\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var ignoreList = '.fitvidsignore';\n\n      if(settings.ignore) {\n        ignoreList = ignoreList + ', ' + settings.ignore;\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not('object object'); // SwfObj conflict patch\n      $allVideos = $allVideos.not(ignoreList); // Disable FitVids on this video.\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if($this.parents(ignoreList).length > 0) {\n          return; // Disable FitVids on this video.\n        }\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        if ((!$this.css('height') && !$this.css('width')) && (isNaN($this.attr('height')) || isNaN($this.attr('width'))))\n        {\n          $this.attr('height', 9);\n          $this.attr('width', 16);\n        }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('name')){\n          var videoName = 'fitvid' + $.fn.fitVids._count;\n          $this.attr('name', videoName);\n          $.fn.fitVids._count++;\n        }\n        $this.wrap('<div class=\"fluid-width-video-container\"><div class=\"fluid-width-video-wrapper\"></div></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+'%');\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n\n  // Internal counter for unique video names.\n  $.fn.fitVids._count = 0;\n\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );\n"]}